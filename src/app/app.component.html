
<header class="size-full max-h-16 shadow-md flex justify-center">
  <div class=" flex justify-between gap-2 items-center max-w-xl">
    <button nz-button nzType="primary" (click)="createRoom()" [nzLoading]="isLoading">Create a room</button>
    <nz-input-group >
      <input type="text" placeholder="room number..." nz-input [(ngModel)]="roomId"/>
    </nz-input-group>
    <button nz-button nzType="primary" (click)="joinAsRemoteRoom()" [nzLoading]="isJoining">Join a room</button>
  </div>
</header>

<div id="container" class="bg-[red]"></div>
<div class="flex flex-wrap items-center m-3 gap-3">
  <div>
    <video autoPlay playsInline #videoElement class="w-[372px] h-[280px] rounded-md"></video>
    @if (videoElement.srcObject) {
      <div class="flex gap-1">
        <button nz-button nzType="primary" nz-tooltip class="w-full"><i class="pi pi-microphone text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-camera text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-desktop text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-sign-out text-[20px]"></i></button>
      </div>
    }
  </div>
  @for (item of remoteUserStream; track $index) {
    <div>
      <video autoPlay playsInline #remoteVideo [srcObject]="item.stream" class="w-[372px] h-[280px] rounded-md" [ngClass]="{'outline-2 outline-double outline-blue-800': item.talking}"></video>
      <div class="flex gap-1">
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-microphone text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-camera text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-desktop text-[20px]"></i></button>
        <button nz-button nzType="primary" class="w-full"><i class="pi pi-sign-out text-[20px]"></i></button>
      </div>
    </div>
  }
</div>
